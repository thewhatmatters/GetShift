<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WMDS - Theme Generator</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 12px;
      line-height: 1.5;
      color: var(--figma-color-text);
      background: var(--figma-color-bg);
      padding: 16px;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .header {
      margin-bottom: 16px;
    }

    .header h1 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .header p {
      color: var(--figma-color-text-secondary);
      font-size: 11px;
    }

    .existing-banner {
      display: none;
      background: var(--figma-color-bg-warning);
      border: 1px solid var(--figma-color-border-warning);
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 16px;
      font-size: 11px;
      line-height: 1.6;
    }

    .textarea-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      margin-bottom: 16px;
      min-height: 0;
    }

    .textarea-container label {
      font-weight: 500;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .load-default-btn {
      font-size: 11px;
      color: var(--figma-color-text-brand);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
    }

    .load-default-btn:hover {
      background: var(--figma-color-bg-brand-tertiary);
    }

    textarea {
      flex: 1;
      width: 100%;
      min-height: 200px;
      padding: 12px;
      border: 1px solid var(--figma-color-border);
      border-radius: 6px;
      background: var(--figma-color-bg-secondary);
      color: var(--figma-color-text);
      font-family: 'SF Mono', Monaco, Consolas, monospace;
      font-size: 11px;
      line-height: 1.5;
      resize: none;
    }

    textarea:focus {
      outline: none;
      border-color: var(--figma-color-border-brand);
      box-shadow: 0 0 0 1px var(--figma-color-border-brand);
    }

    textarea::placeholder {
      color: var(--figma-color-text-tertiary);
    }

    textarea:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .hint {
      margin-top: 8px;
      font-size: 11px;
      color: var(--figma-color-text-secondary);
    }

    .hint code {
      background: var(--figma-color-bg-tertiary);
      padding: 1px 4px;
      border-radius: 3px;
      font-family: 'SF Mono', Monaco, Consolas, monospace;
    }

    .status {
      display: none;
      padding: 10px 12px;
      border-radius: 6px;
      margin-bottom: 16px;
      font-size: 11px;
    }

    .status.info {
      background: var(--figma-color-bg-brand-tertiary);
      color: var(--figma-color-text-brand);
    }

    .status.success {
      background: var(--figma-color-bg-success-tertiary);
      color: var(--figma-color-text-success);
    }

    .status.error {
      background: var(--figma-color-bg-danger-tertiary);
      color: var(--figma-color-text-danger);
    }

    .buttons {
      display: flex;
      gap: 8px;
    }

    button {
      flex: 1;
      padding: 10px 16px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .primary-btn {
      background: var(--figma-color-bg-brand);
      color: var(--figma-color-text-onbrand);
      border: none;
    }

    .primary-btn:hover:not(:disabled) {
      background: var(--figma-color-bg-brand-hover);
    }

    .primary-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .secondary-btn {
      background: var(--figma-color-bg-secondary);
      color: var(--figma-color-text);
      border: 1px solid var(--figma-color-border);
    }

    .secondary-btn:hover {
      background: var(--figma-color-bg-tertiary);
    }

    .format-info {
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--figma-color-border);
    }

    .format-info h3 {
      font-size: 11px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--figma-color-text-secondary);
    }

    .format-info ul {
      font-size: 11px;
      color: var(--figma-color-text-secondary);
      padding-left: 16px;
    }

    .format-info li {
      margin-bottom: 4px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>WMDS Theme Generator</h1>
    <p>Paste your shadcn/Tailwind CSS theme to generate Figma variables and a style guide</p>
  </div>

  <div id="existing-banner" class="existing-banner"></div>

  <div class="textarea-container">
    <label>
      CSS Theme
      <button id="load-default-btn" class="load-default-btn">Load Default Theme</button>
    </label>
    <textarea id="css-input" spellcheck="false"></textarea>
    <p class="hint">
      Supports <code>:root { }</code> for light mode and <code>.dark { }</code> for dark mode
    </p>
  </div>

  <div id="status" class="status"></div>

  <div class="buttons">
    <button id="cancel-btn" class="secondary-btn">Cancel</button>
    <button id="generate-btn" class="primary-btn">Generate Style Guide</button>
  </div>

  <div class="format-info">
    <h3>Supported formats</h3>
    <ul>
      <li>HSL: <code>hsl(222.2 47.4% 11.2%)</code></li>
      <li>OKLCH: <code>oklch(0.5819 0.0662 129.8)</code></li>
      <li>RGB: <code>rgb(255 255 255)</code></li>
      <li>Hex: <code>#1a1a1a</code></li>
    </ul>
  </div>

  <script src="ui.js"></script>
</body>
</html>
